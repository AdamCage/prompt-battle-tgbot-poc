# ü•ä –ë–∏—Ç–≤–∞ –ø—Ä–æ–º–ø—Ç–æ–≤ (Telegram Bot MVP)

–ù–µ–±–æ–ª—å—à–æ–π MVP-–±–æ—Ç –¥–ª—è –∏–≥—Ä—ã "–ë–∏—Ç–≤–∞ –ø—Ä–æ–º–ø—Ç–æ–≤".  
–£—á–∞—Å—Ç–Ω–∏–∫–∞–º –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞—Ä—Ç–∏–Ω–∫–∞, –∏ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã —É–≥–∞–¥–∞—Ç—å, –∫–∞–∫–æ–π –ø—Ä–æ–º–ø—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –¥–ª—è –µ—ë –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.  

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ê–¥–º–∏–Ω –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–∞—Ä—Ç–∏–Ω–∫—É –∏ –∑–∞–¥–∞—ë—Ç –∏—Å—Ç–∏–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç.
- –í—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Ä–∞—Å—Å—ã–ª–∞–µ—Ç—Å—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ ‚Üí –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ä–∞—É–Ω–¥.
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—Ä–∏—Å—ã–ª–∞—é—Ç —Å–≤–æ–∏ –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–º–ø—Ç–∞.
- –ö–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ—Ü–µ–Ω–∫—É (–≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏ ‚Äî —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 100).
- –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç –≤—ã–≥—Ä—É–∑–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ **Excel** (–Ω–∏–∫, –ø—Ä–æ–º–ø—Ç, –æ—á–∫–∏).
- –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é —Ä–∞—É–Ω–¥–∞ –±–æ—Ç —Ä–∞—Å—Å—ã–ª–∞–µ—Ç –∫–∞–∂–¥–æ–º—É –∏–≥—Ä–æ–∫—É –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç + –∏—Å—Ç–∏–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç.

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- [python-telegram-bot](https://python-telegram-bot.org/)
- [openpyxl](https://openpyxl.readthedocs.io/)
- Python 3.10+
- (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) [Ollama](https://ollama.com/) –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Å—Ö–æ–∂–µ—Å—Ç–∏ –ø—Ä–æ–º–ø—Ç–æ–≤

## ‚ö° –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install python-telegram-bot openpyxl
```

2. –í—Å—Ç–∞–≤—å—Ç–µ —Å–≤–æ–π Telegram Bot Token:

```python
TOKEN = "–í–ê–®_–¢–û–ö–ï–ù"
ADMIN_ID = 123456789  # –≤–∞—à user id (—É–∑–Ω–∞—Ç—å –º–æ–∂–Ω–æ –≤ @userinfobot)
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:

```bash
python bot.py
```

## üìñ –ö–æ–º–∞–Ω–¥—ã

* `/start` ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ (–¥–ª—è –∏–≥—Ä–æ–∫–æ–≤ –∏ –∞–¥–º–∏–Ω–∞ —Ä–∞–∑–Ω—ã–µ).
* –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É (–∞–¥–º–∏–Ω).
* `/setprompt <—Ç–µ–∫—Å—Ç>` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏—Å—Ç–∏–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∏ –Ω–∞—á–∞—Ç—å —Ä–∞—É–Ω–¥.
* –ü—Ä–∏—Å–ª–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ (–∏–≥—Ä–æ–∫) ‚Äî –∑–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –ø—Ä–æ–º–ø—Ç.
* `/results` ‚Äî –≤—ã–≥—Ä—É–∑–∏—Ç—å Excel —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏.
* `/finish` ‚Äî –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ä–∞—É–Ω–¥, —Ä–∞–∑–æ—Å–ª–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–≥—Ä–æ–∫–∞–º.

## üìä –ü—Ä–æ—Ü–µ—Å—Å –∏–≥—Ä—ã

```mermaid
sequenceDiagram
    participant Admin
    participant Bot
    participant Users
    participant OpenWebUI as OpenWebUI/AI-agent

    Admin->>Bot: –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫–∞—Ä—Ç–∏–Ω–∫—É
    Bot-->>Admin: "–ö–∞—Ä—Ç–∏–Ω–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞"
    Admin->>Bot: /setprompt "–ò—Å—Ç–∏–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç"
    Bot-->>Users: "–†–∞—É–Ω–¥ –Ω–∞—á–∞–ª—Å—è!" + –∫–∞—Ä—Ç–∏–Ω–∫–∞

    Users->>Bot: –ü—Ä–∏—Å—ã–ª–∞—é—Ç —Å–≤–æ–∏ –ø—Ä–æ–º–ø—Ç—ã
    Bot->>OpenWebUI: –ó–∞–ø—Ä–æ—Å –Ω–∞ –æ—Ü–µ–Ω–∫—É (–∏—Å—Ç–∏–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç + –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π)
    OpenWebUI-->>Bot: –û—Ü–µ–Ω–∫–∞ (0‚Äì100)
    Bot-->>Users: "–¢–≤–æ–π –ø—Ä–æ–º–ø—Ç –ø—Ä–∏–Ω—è—Ç" (–±–µ–∑ –ø–æ–∫–∞–∑–∞ –æ—á–∫–æ–≤)
    Bot-->>Admin: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º –æ—Ç–≤–µ—Ç–µ + –æ—á–∫–∏

    Admin->>Bot: /results
    Bot-->>Admin: Excel —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

    Admin->>Bot: /finish
    Bot-->>Users: –õ–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (–æ—á–∫–∏, –º–µ—Å—Ç–æ, –∏—Å—Ç–∏–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç)
```

## üì¶ –ü—Ä–∏–º–µ—Ä Excel

| –Ω–∏–∫     | –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç        | –æ—á–∫–∏ |
| ------- | -------------------------- | ---- |
| user123 | a cat sitting on the table | 78   |
| anna    | kitten on wooden desk      | 65   |
| ivan    | dog in the park            | 12   |

---

## ‚úÖ –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

* –ü–æ–¥–∫–ª—é—á–∏—Ç—å **Ollama/LLM** –≤–º–µ—Å—Ç–æ —Å–ª—É—á–∞–π–Ω–æ–π –æ—Ü–µ–Ω–∫–∏.
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö —Ä–∞—É–Ω–¥–æ–≤**.
* –ê–≤—Ç–æ–ø–æ–¥—Å—á—ë—Ç –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π.
* –•—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –ë–î –∏–ª–∏ Google Sheets.
